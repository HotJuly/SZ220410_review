B TO B项目
权限等级划分
    管理员
        具有当前项目所有的权限功能,例如:可以查看所有功能模块,可以对账号信息进行增删改查

    访客
        具有部分功能权限,例如:可以查看品牌相关信息,修改品牌信息

需求:根据当前账号的权限信息,控制用户能够使用的路由模块
拆解:
    1.根据当前账号的权限信息
        在login界面登录,一共会触发两个接口
            1.login接口->用处是将用户的帐号密码,兑换成用户的唯一标识token数据
            2.info接口->用处是将用户token数据,兑换成用户帐号相关的信息
                buttons->代表当前账号能使用的按钮权限
                routes->代表当前账号能够访问的路由的别名
                    数据类型:string[] || Array<string>

    2.控制用户能够使用的路由模块
        在公司中操作,一共有两种方案:
            1.在导航守卫中,判断用户即将跳转的路由地址,当前账号是否有资格使用
            2.故意在项目启动的时候,不将部分路由对象传入路由器中
                也就是routes数组中没有这部分路由

            问题:如何在项目启动之后,往路由器中注入新的路由对象?
                API:router.addRoutes || router.addRoute


流程:
    1.拆分路由
        将原本的一个路由数组,拆解成三个路由数组
            -常量路由
            -异步路由
            -任意路由

    2.在用户登录成功之后,通过info接口兑换到用户的个人权限信息

    3.将用户的个人权限信息传递给mutation(SET_PERMISSION)

    4.在SET_PERMISSION中,我们从请求回来的数据中,获取到buttons和routes数组,
        并且分别存入Vuex的state中
            buttons->当前账号能够使用的按钮权限
            routes->当前账号能够访问的路由别名

    5.根据流程1中拆分的异步路由数组,配合服务器返回的routes数组,实现过滤异步路由的操作
        -遍历异步路由数组,获取到内部的每个路由对象
            将路由对象的name属性值,与服务器返回的routes数组进行对比
                如果routes数组中,存在相同的名称,就代表当前路由是可以访问
                                如果不存在相同的名称,就代表没有资格访问当前路由

            注意:如果当前路由对象还有子路由,需要对子路由进行递归过滤操作

            小总结:我们通过filter方法,配合includes方法,实现对异步路由数组的过滤操作

    6.经过流程5处理之后,我们会得到当前账号能够访问的异步路由对象组成的数组
        将该数组使用router.addRoutes方法实现动态注入路由功能

        经过这步操作,用户就能够访问这些异步路由了

    注意点:
        1.在过滤异步路由数组的时候,需要将异步路由数组进行深拷贝,
            防止当前用户退出帐号之后,再次登录其他账号,此时很有可能出现部分异步路由无法显示的问题